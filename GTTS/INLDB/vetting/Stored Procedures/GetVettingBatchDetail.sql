CREATE PROCEDURE [vetting].[GetVettingBatchDetail]
	@VettingBatchID BIGINT
AS
BEGIN
	SELECT  VettingBatchID,
			VettingBatchName,
			VettingBatchNumber,
			VettingBatchOrdinal,
			v.TrainingEventID,
            TrainingEventName,
            EventStartDate,
			VettingBatchTypeID,
			VettingBatchType,
			AssignedToAppUserID,
			AssignedToAppUserFirstName,
			AssignedToAppUserLastName,
			VettingBatchStatusID,
			VettingBatchStatus,
			DateVettingResultsNeededBy,
			IsCorrectionRequired,
			CourtesyVettingOverrideFlag,
			CourtesyVettingOverrideReason,
			GTTSTrackingNumber,
			LeahyTrackingNumber,
			INKTrackingNumber,
			DateVettingResultsNeededBy,
			DateSubmitted,
			DateAccepted,
			DateSentToCourtesy,
			DateCourtesyCompleted,
			DateSentToLeahy,
			DateLeahyResultsReceived,
			DateVettingResultsNotified,
			DateLeahyFileGenerated,
			VettingFundingSourceID,
			VettingFundingSource,
			v.AuthorizingLawID,
			v.AuthorizingLaw,
			VettingBatchNotes,
			v.ModifiedByAppUserID,
			v.ModifiedDate,		   
		    PersonsVettingJSON,
			SubmittedAppUserFirstName,
			SubmittedAppUserLastName,
			AcceptedAppUserFirstName,
			AcceptedAppUserLastName,
			SentToCourtesyAppUserFirstName,
			SentToCourtesyAppUserLastName,
			CourtesyCompleteAppUserFirstName,
			CourtesyCompleteAppUserLastName,
			SentToLeahyAppUserFirstName,
			SentToCourtesyAppUserLastName,
			TrainingEventBusinessUnitAcronym,
			FileID,
			PersonsVettingJSON,
			PersonVettingHitJSON,
			PersonVettingTypeJSON,
			PersonVettingVettingTypesJSON,
			CountryName
	  FROM vetting.VettingBatchesDetailView v
		WHERE VettingBatchID = @VettingBatchID
END
